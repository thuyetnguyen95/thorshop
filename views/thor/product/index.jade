extends ../layout/master

block content
  ol.breadcrumb.mb-4.mt-4
    li(class="breadcrumb-item active") S·∫£n ph·∫©m
  .row.mb-4.mt-4
    .col-md-8
      form.d-md-inline-block.form-inline.ml-auto.mr-0.mr-md-3.my-2.my-md-0.w-100(action="/thor/product" method="get")
        .row
          .col-md-4.w-100
            .input-group
              input.form-control(type='text' name="keyword" placeholder='T√™n s·∫£n ph·∫©m...' value=keyword autocomplete="off")
          .col-md-3
            select.form-control.w-100(name="status")
              option(value='') -- Tr·∫°ng th√°i --
              option(value=2 selected=status === 2) S·∫Øp h·∫øt
              option(value=1 selected=status === 1) ƒê√£ h·∫øt
          .my-auto
            button.btn.btn-primary.btn-sm(type='submit') T√¨m ki·∫øm
            a.btn.btn-secondary.btn-sm.ml-2(href="/thor/product") Clear
    .col-md-4.text-right 
      a(href="/thor/product/import" class="btn btn-info btn-sm") Nh·∫≠p h√†ng
      a(href="/thor/product/create" class="btn btn-primary btn-sm ml-1") Th√™m m·ªõi
  .row
    .col-md-12
      .table-responsive
        table.table.table-hover
          thead
            tr
              th(scope='col' class="thead-id") #
              th(scope='col' class="thead-image") H√¨nh ·∫£nh
              th(scope='col') T√™n
              th(scope='col' class="thead-stock") S·ªë l∆∞·ª£ng
              th(scope='col' class="thead-stock") ƒê√£ b√°n
              th(scope='col' class="thead-price") Gi√° b√°n
              th(scope='col' class="thead-status") Tr·∫°ng th√°i
              th(scope='col' class="thead-action") T√°c v·ª•
          tbody
            if products.length
            each product, index in products
                tr
                  td= index + 1
                  td
                    img(class="product-image" src="/images/#{product.image}")
                  td.td-name= product.name
                  td= product.stock
                  td= product.sold
                  td= product.price.toLocaleString('it-IT', {style : 'currency', currency : 'VND'})
                  td
                    span(class="chip #{product.status.class}")= product.status.text
                  td
                    a(href="/thor/product/edit/#{product.id}" class="btn btn-info btn-sm") S·ª≠a
                    //- a(href="/thor/product/delete/#{product.id}" class="btn btn-danger btn-sm ml-1") X√≥a
                    button.btn.btn-danger.btn-sm.ml-1(
                      type='button'
                      data-toggle='modal'
                      data-target='#modalConfirmDeleteProduct'
                      onclick="openConfirmDeleteProduct('#{product.id}')"
                    ) X√≥a

  // Modal confirm delete
  #modalConfirmDeleteProduct.modal.fade(tabindex='-1' role='dialog' aria-hidden='true')
    .modal-dialog.modal-dialog-centered(role='document')
      .modal-content
        .modal-header
          h5#exampleModalLongTitle.modal-title üò≠üò≠ Oh no!
          button.close(type='button' data-dismiss='modal' aria-label='Close')
            span(aria-hidden='true') &times;
        .modal-body
          p.text-danger Thao t√°c n√†y kh√¥ng th·ªÉ ho√†n t√°c.
          p.text-danger B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën xo√° s·∫£n ph·∫©m n√†y?
          p
            small.font-weight-lighter (S·∫£n ph·∫©m s·∫Ω kh√¥ng ƒë∆∞·ª£c hi·ªÉn th·ªã trong ƒë∆°n h√†ng ƒë√£ mua)
        .modal-footer
          button.btn.btn-secondary.btn-sm(type='button' data-dismiss='modal') ƒê√≥ng
          button.btn.btn-danger.btn-sm(type='button' onclick="deleteProduct()") Xo√°
block script
  script(src="/js/product.js")

block style
  style.
    .thead-id {
      min-width: 50px;
      width: 50px;
    }

    .thead-image {
      min-width: 150px;
      width: 150px;
    }

    .thead-stock, .thead-price, .thead-status, .thead-action {
      min-width: 200px;
    }

    .td-name {
      text-transform: capitalize;
      min-width: 250px;
    }

    .product-image {
      min-width: 85px;
      width: 85px;
      height: 50px;
    }

    .table {
      min-width: 1000px;
    }